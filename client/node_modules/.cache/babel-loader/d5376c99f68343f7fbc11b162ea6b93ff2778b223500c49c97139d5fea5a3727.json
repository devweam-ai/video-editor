{"ast":null,"code":"var _jsxFileName = \"/Users/kshitijvarma/Desktop/ai-doc-editor/AI-VideoGen/client/src/context/VideoContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoContext = /*#__PURE__*/createContext();\nconst initialState = {\n  videos: [],\n  currentVideo: null,\n  loading: false,\n  error: null,\n  pagination: {\n    page: 1,\n    limit: 10,\n    total: 0,\n    pages: 0\n  }\n};\nconst videoReducer = (state, action) => {\n  var _state$currentVideo;\n  switch (action.type) {\n    case 'SET_LOADING':\n      return {\n        ...state,\n        loading: action.payload\n      };\n    case 'SET_ERROR':\n      return {\n        ...state,\n        error: action.payload,\n        loading: false\n      };\n    case 'SET_VIDEOS':\n      return {\n        ...state,\n        videos: action.payload.videos,\n        pagination: action.payload.pagination,\n        loading: false\n      };\n    case 'ADD_VIDEO':\n      return {\n        ...state,\n        videos: [action.payload, ...state.videos],\n        currentVideo: action.payload,\n        loading: false\n      };\n    case 'UPDATE_VIDEO':\n      return {\n        ...state,\n        videos: state.videos.map(video => video.videoId === action.payload.videoId ? action.payload : video),\n        currentVideo: ((_state$currentVideo = state.currentVideo) === null || _state$currentVideo === void 0 ? void 0 : _state$currentVideo.videoId) === action.payload.videoId ? action.payload : state.currentVideo\n      };\n    case 'SET_CURRENT_VIDEO':\n      return {\n        ...state,\n        currentVideo: action.payload\n      };\n    case 'CLEAR_ERROR':\n      return {\n        ...state,\n        error: null\n      };\n    default:\n      return state;\n  }\n};\nexport const VideoProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(videoReducer, initialState);\n  const api = axios.create({\n    baseURL: '/api/videos',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    withCredentials: true\n  });\n\n  // Redirect unauthenticated users to Weam login\n  api.interceptors.response.use(response => response, error => {\n    var _error$response;\n    const status = error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status;\n    if (status === 401) {\n      window.location.href = 'https://app.weam.ai/login';\n      return; // stop further handling\n    }\n    return Promise.reject(error);\n  });\n  const generateVideo = async (prompt, duration = 5, aspectRatio = '16:9', model = 'gen4_turbo') => {\n    try {\n      dispatch({\n        type: 'SET_LOADING',\n        payload: true\n      });\n      dispatch({\n        type: 'CLEAR_ERROR'\n      });\n      const response = await api.post('/generate', {\n        prompt,\n        duration,\n        aspectRatio,\n        model\n      });\n      const newVideo = response.data.video;\n      dispatch({\n        type: 'ADD_VIDEO',\n        payload: newVideo\n      });\n\n      // Show success toast\n      toast.success('Video generation started! This may take a few minutes.', {\n        duration: 5000\n      });\n\n      // Start polling for status updates\n      pollVideoStatus(newVideo.videoId);\n      return newVideo;\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      const errorMessage = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message;\n      dispatch({\n        type: 'SET_ERROR',\n        payload: errorMessage\n      });\n\n      // Show error toast\n      toast.error(`Failed to generate video: ${errorMessage}`);\n      throw error;\n    }\n  };\n  const pollVideoStatus = async (videoId, maxAttempts = 60) => {\n    let attempts = 0;\n    const pollInterval = 3000; // 3 seconds\n\n    const poll = async () => {\n      try {\n        const response = await api.get(`/${videoId}/status`);\n        const videoStatus = response.data;\n        dispatch({\n          type: 'UPDATE_VIDEO',\n          payload: videoStatus\n        });\n        if (videoStatus.status === 'completed') {\n          toast.success('ðŸŽ‰ Your video is ready!', {\n            duration: 6000\n          });\n          return;\n        }\n        if (videoStatus.status === 'failed') {\n          toast.error(`Video generation failed: ${videoStatus.errorMessage || 'Unknown error'}`, {\n            duration: 8000\n          });\n          return;\n        }\n        attempts++;\n        if (attempts < maxAttempts) {\n          setTimeout(poll, pollInterval);\n        } else {\n          toast.error('Video generation timed out. Please try again.', {\n            duration: 8000\n          });\n        }\n      } catch (error) {\n        console.error('Error polling video status:', error);\n        attempts++;\n        if (attempts < maxAttempts) {\n          setTimeout(poll, pollInterval);\n        } else {\n          toast.error('Lost connection to video generation. Please refresh the page.', {\n            duration: 8000\n          });\n        }\n      }\n    };\n    poll();\n  };\n  const fetchVideos = async (page = 1, limit = 10, status = null, search = null) => {\n    try {\n      dispatch({\n        type: 'SET_LOADING',\n        payload: true\n      });\n      dispatch({\n        type: 'CLEAR_ERROR'\n      });\n      const params = new URLSearchParams({\n        page: page.toString(),\n        limit: limit.toString()\n      });\n      if (status) params.append('status', status);\n      if (search) params.append('search', search);\n      const response = await api.get(`/?${params.toString()}`);\n      dispatch({\n        type: 'SET_VIDEOS',\n        payload: response.data\n      });\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      const errorMessage = ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || error.message;\n      dispatch({\n        type: 'SET_ERROR',\n        payload: errorMessage\n      });\n      toast.error(`Failed to load videos: ${errorMessage}`);\n    }\n  };\n  const updateVideoTitle = async (videoId, title) => {\n    try {\n      const response = await api.patch(`/${videoId}/title`, {\n        title\n      });\n      dispatch({\n        type: 'UPDATE_VIDEO',\n        payload: response.data.video\n      });\n      toast.success('Title updated successfully!');\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      const errorMessage = ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || error.message;\n      toast.error(`Failed to update title: ${errorMessage}`);\n      throw error;\n    }\n  };\n  const regenerateVideo = async videoId => {\n    try {\n      dispatch({\n        type: 'SET_LOADING',\n        payload: true\n      });\n      dispatch({\n        type: 'CLEAR_ERROR'\n      });\n      const response = await api.post(`/${videoId}/regenerate`);\n      const newVideo = response.data.video;\n      dispatch({\n        type: 'ADD_VIDEO',\n        payload: newVideo\n      });\n      toast.success('Regenerating video...', {\n        duration: 3000\n      });\n      pollVideoStatus(newVideo.videoId);\n      return newVideo;\n    } catch (error) {\n      var _error$response5, _error$response5$data;\n      const errorMessage = ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.error) || error.message;\n      dispatch({\n        type: 'SET_ERROR',\n        payload: errorMessage\n      });\n      toast.error(`Failed to regenerate video: ${errorMessage}`);\n      throw error;\n    }\n  };\n  const deleteVideo = async videoId => {\n    try {\n      await api.delete(`/${videoId}`);\n      dispatch({\n        type: 'SET_VIDEOS',\n        payload: {\n          videos: state.videos.filter(video => video.videoId !== videoId),\n          pagination: state.pagination\n        }\n      });\n      toast.success('Video deleted successfully!');\n    } catch (error) {\n      var _error$response6, _error$response6$data;\n      const errorMessage = ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.error) || error.message;\n      toast.error(`Failed to delete video: ${errorMessage}`);\n      throw error;\n    }\n  };\n  const clearError = () => {\n    dispatch({\n      type: 'CLEAR_ERROR'\n    });\n  };\n  useEffect(() => {\n    fetchVideos();\n  }, []);\n  const value = {\n    ...state,\n    generateVideo,\n    fetchVideos,\n    updateVideoTitle,\n    regenerateVideo,\n    deleteVideo,\n    clearError\n  };\n  return /*#__PURE__*/_jsxDEV(VideoContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 262,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoProvider, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = VideoProvider;\nexport const useVideo = () => {\n  _s2();\n  const context = useContext(VideoContext);\n  if (!context) {\n    throw new Error('useVideo must be used within a VideoProvider');\n  }\n  return context;\n};\n_s2(useVideo, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"VideoProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","axios","toast","jsxDEV","_jsxDEV","VideoContext","initialState","videos","currentVideo","loading","error","pagination","page","limit","total","pages","videoReducer","state","action","_state$currentVideo","type","payload","map","video","videoId","VideoProvider","children","_s","dispatch","api","create","baseURL","headers","withCredentials","interceptors","response","use","_error$response","status","window","location","href","Promise","reject","generateVideo","prompt","duration","aspectRatio","model","post","newVideo","data","success","pollVideoStatus","_error$response2","_error$response2$data","errorMessage","message","maxAttempts","attempts","pollInterval","poll","get","videoStatus","setTimeout","console","fetchVideos","search","params","URLSearchParams","toString","append","_error$response3","_error$response3$data","updateVideoTitle","title","patch","_error$response4","_error$response4$data","regenerateVideo","_error$response5","_error$response5$data","deleteVideo","delete","filter","_error$response6","_error$response6$data","clearError","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useVideo","_s2","context","Error","$RefreshReg$"],"sources":["/Users/kshitijvarma/Desktop/ai-doc-editor/AI-VideoGen/client/src/context/VideoContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\n\nconst VideoContext = createContext();\n\nconst initialState = {\n  videos: [],\n  currentVideo: null,\n  loading: false,\n  error: null,\n  pagination: {\n    page: 1,\n    limit: 10,\n    total: 0,\n    pages: 0\n  }\n};\n\nconst videoReducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_LOADING':\n      return { ...state, loading: action.payload };\n    case 'SET_ERROR':\n      return { ...state, error: action.payload, loading: false };\n    case 'SET_VIDEOS':\n      return { \n        ...state, \n        videos: action.payload.videos, \n        pagination: action.payload.pagination,\n        loading: false \n      };\n    case 'ADD_VIDEO':\n      return { \n        ...state, \n        videos: [action.payload, ...state.videos],\n        currentVideo: action.payload,\n        loading: false \n      };\n    case 'UPDATE_VIDEO':\n      return {\n        ...state,\n        videos: state.videos.map(video => \n          video.videoId === action.payload.videoId ? action.payload : video\n        ),\n        currentVideo: state.currentVideo?.videoId === action.payload.videoId \n          ? action.payload \n          : state.currentVideo\n      };\n    case 'SET_CURRENT_VIDEO':\n      return { ...state, currentVideo: action.payload };\n    case 'CLEAR_ERROR':\n      return { ...state, error: null };\n    default:\n      return state;\n  }\n};\n\nexport const VideoProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(videoReducer, initialState);\n\n  const api = axios.create({\n    baseURL: '/api/videos',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    withCredentials: true\n  });\n\n  // Redirect unauthenticated users to Weam login\n  api.interceptors.response.use(\n    (response) => response,\n    (error) => {\n      const status = error?.response?.status;\n      if (status === 401) {\n        window.location.href = 'https://app.weam.ai/login';\n        return; // stop further handling\n      }\n      return Promise.reject(error);\n    }\n  );\n\n  const generateVideo = async (prompt, duration = 5, aspectRatio = '16:9', model = 'gen4_turbo') => {\n    try {\n      dispatch({ type: 'SET_LOADING', payload: true });\n      dispatch({ type: 'CLEAR_ERROR' });\n\n      const response = await api.post('/generate', {\n        prompt,\n        duration,\n        aspectRatio,\n        model\n      });\n\n      const newVideo = response.data.video;\n      dispatch({ type: 'ADD_VIDEO', payload: newVideo });\n\n      // Show success toast\n      toast.success('Video generation started! This may take a few minutes.', {\n        duration: 5000,\n      });\n\n      // Start polling for status updates\n      pollVideoStatus(newVideo.videoId);\n\n      return newVideo;\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message;\n      dispatch({ type: 'SET_ERROR', payload: errorMessage });\n      \n      // Show error toast\n      toast.error(`Failed to generate video: ${errorMessage}`);\n      throw error;\n    }\n  };\n\n  const pollVideoStatus = async (videoId, maxAttempts = 60) => {\n    let attempts = 0;\n    const pollInterval = 3000; // 3 seconds\n\n    const poll = async () => {\n      try {\n        const response = await api.get(`/${videoId}/status`);\n        const videoStatus = response.data;\n\n        dispatch({ type: 'UPDATE_VIDEO', payload: videoStatus });\n\n        if (videoStatus.status === 'completed') {\n          toast.success('ðŸŽ‰ Your video is ready!', {\n            duration: 6000,\n          });\n          return;\n        }\n\n        if (videoStatus.status === 'failed') {\n          toast.error(`Video generation failed: ${videoStatus.errorMessage || 'Unknown error'}`, {\n            duration: 8000,\n          });\n          return;\n        }\n\n        attempts++;\n        if (attempts < maxAttempts) {\n          setTimeout(poll, pollInterval);\n        } else {\n          toast.error('Video generation timed out. Please try again.', {\n            duration: 8000,\n          });\n        }\n      } catch (error) {\n        console.error('Error polling video status:', error);\n        attempts++;\n        if (attempts < maxAttempts) {\n          setTimeout(poll, pollInterval);\n        } else {\n          toast.error('Lost connection to video generation. Please refresh the page.', {\n            duration: 8000,\n          });\n        }\n      }\n    };\n\n    poll();\n  };\n\n  const fetchVideos = async (page = 1, limit = 10, status = null, search = null) => {\n    try {\n      dispatch({ type: 'SET_LOADING', payload: true });\n      dispatch({ type: 'CLEAR_ERROR' });\n\n      const params = new URLSearchParams({\n        page: page.toString(),\n        limit: limit.toString()\n      });\n\n      if (status) params.append('status', status);\n      if (search) params.append('search', search);\n\n      const response = await api.get(`/?${params.toString()}`);\n      dispatch({ type: 'SET_VIDEOS', payload: response.data });\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message;\n      dispatch({ type: 'SET_ERROR', payload: errorMessage });\n      toast.error(`Failed to load videos: ${errorMessage}`);\n    }\n  };\n\n  const updateVideoTitle = async (videoId, title) => {\n    try {\n      const response = await api.patch(`/${videoId}/title`, { title });\n      dispatch({ type: 'UPDATE_VIDEO', payload: response.data.video });\n      toast.success('Title updated successfully!');\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message;\n      toast.error(`Failed to update title: ${errorMessage}`);\n      throw error;\n    }\n  };\n\n  const regenerateVideo = async (videoId) => {\n    try {\n      dispatch({ type: 'SET_LOADING', payload: true });\n      dispatch({ type: 'CLEAR_ERROR' });\n\n      const response = await api.post(`/${videoId}/regenerate`);\n      const newVideo = response.data.video;\n      \n      dispatch({ type: 'ADD_VIDEO', payload: newVideo });\n      \n      toast.success('Regenerating video...', {\n        duration: 3000,\n      });\n      \n      pollVideoStatus(newVideo.videoId);\n\n      return newVideo;\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message;\n      dispatch({ type: 'SET_ERROR', payload: errorMessage });\n      toast.error(`Failed to regenerate video: ${errorMessage}`);\n      throw error;\n    }\n  };\n\n  const deleteVideo = async (videoId) => {\n    try {\n      await api.delete(`/${videoId}`);\n      dispatch({ \n        type: 'SET_VIDEOS', \n        payload: {\n          videos: state.videos.filter(video => video.videoId !== videoId),\n          pagination: state.pagination\n        }\n      });\n      toast.success('Video deleted successfully!');\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message;\n      toast.error(`Failed to delete video: ${errorMessage}`);\n      throw error;\n    }\n  };\n\n  const clearError = () => {\n    dispatch({ type: 'CLEAR_ERROR' });\n  };\n\n  useEffect(() => {\n    fetchVideos();\n  }, []);\n\n  const value = {\n    ...state,\n    generateVideo,\n    fetchVideos,\n    updateVideoTitle,\n    regenerateVideo,\n    deleteVideo,\n    clearError\n  };\n\n  return (\n    <VideoContext.Provider value={value}>\n      {children}\n    </VideoContext.Provider>\n  );\n};\n\nexport const useVideo = () => {\n  const context = useContext(VideoContext);\n  if (!context) {\n    throw new Error('useVideo must be used within a VideoProvider');\n  }\n  return context;\n};\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC/E,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAMC,YAAY,gBAAGR,aAAa,CAAC,CAAC;AAEpC,MAAMS,YAAY,GAAG;EACnBC,MAAM,EAAE,EAAE;EACVC,YAAY,EAAE,IAAI;EAClBC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE,IAAI;EACXC,UAAU,EAAE;IACVC,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,CAAC;IACRC,KAAK,EAAE;EACT;AACF,CAAC;AAED,MAAMC,YAAY,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EAAA,IAAAC,mBAAA;EACtC,QAAQD,MAAM,CAACE,IAAI;IACjB,KAAK,aAAa;MAChB,OAAO;QAAE,GAAGH,KAAK;QAAER,OAAO,EAAES,MAAM,CAACG;MAAQ,CAAC;IAC9C,KAAK,WAAW;MACd,OAAO;QAAE,GAAGJ,KAAK;QAAEP,KAAK,EAAEQ,MAAM,CAACG,OAAO;QAAEZ,OAAO,EAAE;MAAM,CAAC;IAC5D,KAAK,YAAY;MACf,OAAO;QACL,GAAGQ,KAAK;QACRV,MAAM,EAAEW,MAAM,CAACG,OAAO,CAACd,MAAM;QAC7BI,UAAU,EAAEO,MAAM,CAACG,OAAO,CAACV,UAAU;QACrCF,OAAO,EAAE;MACX,CAAC;IACH,KAAK,WAAW;MACd,OAAO;QACL,GAAGQ,KAAK;QACRV,MAAM,EAAE,CAACW,MAAM,CAACG,OAAO,EAAE,GAAGJ,KAAK,CAACV,MAAM,CAAC;QACzCC,YAAY,EAAEU,MAAM,CAACG,OAAO;QAC5BZ,OAAO,EAAE;MACX,CAAC;IACH,KAAK,cAAc;MACjB,OAAO;QACL,GAAGQ,KAAK;QACRV,MAAM,EAAEU,KAAK,CAACV,MAAM,CAACe,GAAG,CAACC,KAAK,IAC5BA,KAAK,CAACC,OAAO,KAAKN,MAAM,CAACG,OAAO,CAACG,OAAO,GAAGN,MAAM,CAACG,OAAO,GAAGE,KAC9D,CAAC;QACDf,YAAY,EAAE,EAAAW,mBAAA,GAAAF,KAAK,CAACT,YAAY,cAAAW,mBAAA,uBAAlBA,mBAAA,CAAoBK,OAAO,MAAKN,MAAM,CAACG,OAAO,CAACG,OAAO,GAChEN,MAAM,CAACG,OAAO,GACdJ,KAAK,CAACT;MACZ,CAAC;IACH,KAAK,mBAAmB;MACtB,OAAO;QAAE,GAAGS,KAAK;QAAET,YAAY,EAAEU,MAAM,CAACG;MAAQ,CAAC;IACnD,KAAK,aAAa;MAChB,OAAO;QAAE,GAAGJ,KAAK;QAAEP,KAAK,EAAE;MAAK,CAAC;IAClC;MACE,OAAOO,KAAK;EAChB;AACF,CAAC;AAED,OAAO,MAAMQ,aAAa,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC7C,MAAM,CAACV,KAAK,EAAEW,QAAQ,CAAC,GAAG7B,UAAU,CAACiB,YAAY,EAAEV,YAAY,CAAC;EAEhE,MAAMuB,GAAG,GAAG5B,KAAK,CAAC6B,MAAM,CAAC;IACvBC,OAAO,EAAE,aAAa;IACtBC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,eAAe,EAAE;EACnB,CAAC,CAAC;;EAEF;EACAJ,GAAG,CAACK,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC1BD,QAAQ,IAAKA,QAAQ,EACrBzB,KAAK,IAAK;IAAA,IAAA2B,eAAA;IACT,MAAMC,MAAM,GAAG5B,KAAK,aAALA,KAAK,wBAAA2B,eAAA,GAAL3B,KAAK,CAAEyB,QAAQ,cAAAE,eAAA,uBAAfA,eAAA,CAAiBC,MAAM;IACtC,IAAIA,MAAM,KAAK,GAAG,EAAE;MAClBC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,2BAA2B;MAClD,OAAO,CAAC;IACV;IACA,OAAOC,OAAO,CAACC,MAAM,CAACjC,KAAK,CAAC;EAC9B,CACF,CAAC;EAED,MAAMkC,aAAa,GAAG,MAAAA,CAAOC,MAAM,EAAEC,QAAQ,GAAG,CAAC,EAAEC,WAAW,GAAG,MAAM,EAAEC,KAAK,GAAG,YAAY,KAAK;IAChG,IAAI;MACFpB,QAAQ,CAAC;QAAER,IAAI,EAAE,aAAa;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC;MAChDO,QAAQ,CAAC;QAAER,IAAI,EAAE;MAAc,CAAC,CAAC;MAEjC,MAAMe,QAAQ,GAAG,MAAMN,GAAG,CAACoB,IAAI,CAAC,WAAW,EAAE;QAC3CJ,MAAM;QACNC,QAAQ;QACRC,WAAW;QACXC;MACF,CAAC,CAAC;MAEF,MAAME,QAAQ,GAAGf,QAAQ,CAACgB,IAAI,CAAC5B,KAAK;MACpCK,QAAQ,CAAC;QAAER,IAAI,EAAE,WAAW;QAAEC,OAAO,EAAE6B;MAAS,CAAC,CAAC;;MAElD;MACAhD,KAAK,CAACkD,OAAO,CAAC,wDAAwD,EAAE;QACtEN,QAAQ,EAAE;MACZ,CAAC,CAAC;;MAEF;MACAO,eAAe,CAACH,QAAQ,CAAC1B,OAAO,CAAC;MAEjC,OAAO0B,QAAQ;IACjB,CAAC,CAAC,OAAOxC,KAAK,EAAE;MAAA,IAAA4C,gBAAA,EAAAC,qBAAA;MACd,MAAMC,YAAY,GAAG,EAAAF,gBAAA,GAAA5C,KAAK,CAACyB,QAAQ,cAAAmB,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBH,IAAI,cAAAI,qBAAA,uBAApBA,qBAAA,CAAsB7C,KAAK,KAAIA,KAAK,CAAC+C,OAAO;MACjE7B,QAAQ,CAAC;QAAER,IAAI,EAAE,WAAW;QAAEC,OAAO,EAAEmC;MAAa,CAAC,CAAC;;MAEtD;MACAtD,KAAK,CAACQ,KAAK,CAAC,6BAA6B8C,YAAY,EAAE,CAAC;MACxD,MAAM9C,KAAK;IACb;EACF,CAAC;EAED,MAAM2C,eAAe,GAAG,MAAAA,CAAO7B,OAAO,EAAEkC,WAAW,GAAG,EAAE,KAAK;IAC3D,IAAIC,QAAQ,GAAG,CAAC;IAChB,MAAMC,YAAY,GAAG,IAAI,CAAC,CAAC;;IAE3B,MAAMC,IAAI,GAAG,MAAAA,CAAA,KAAY;MACvB,IAAI;QACF,MAAM1B,QAAQ,GAAG,MAAMN,GAAG,CAACiC,GAAG,CAAC,IAAItC,OAAO,SAAS,CAAC;QACpD,MAAMuC,WAAW,GAAG5B,QAAQ,CAACgB,IAAI;QAEjCvB,QAAQ,CAAC;UAAER,IAAI,EAAE,cAAc;UAAEC,OAAO,EAAE0C;QAAY,CAAC,CAAC;QAExD,IAAIA,WAAW,CAACzB,MAAM,KAAK,WAAW,EAAE;UACtCpC,KAAK,CAACkD,OAAO,CAAC,yBAAyB,EAAE;YACvCN,QAAQ,EAAE;UACZ,CAAC,CAAC;UACF;QACF;QAEA,IAAIiB,WAAW,CAACzB,MAAM,KAAK,QAAQ,EAAE;UACnCpC,KAAK,CAACQ,KAAK,CAAC,4BAA4BqD,WAAW,CAACP,YAAY,IAAI,eAAe,EAAE,EAAE;YACrFV,QAAQ,EAAE;UACZ,CAAC,CAAC;UACF;QACF;QAEAa,QAAQ,EAAE;QACV,IAAIA,QAAQ,GAAGD,WAAW,EAAE;UAC1BM,UAAU,CAACH,IAAI,EAAED,YAAY,CAAC;QAChC,CAAC,MAAM;UACL1D,KAAK,CAACQ,KAAK,CAAC,+CAA+C,EAAE;YAC3DoC,QAAQ,EAAE;UACZ,CAAC,CAAC;QACJ;MACF,CAAC,CAAC,OAAOpC,KAAK,EAAE;QACduD,OAAO,CAACvD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;QACnDiD,QAAQ,EAAE;QACV,IAAIA,QAAQ,GAAGD,WAAW,EAAE;UAC1BM,UAAU,CAACH,IAAI,EAAED,YAAY,CAAC;QAChC,CAAC,MAAM;UACL1D,KAAK,CAACQ,KAAK,CAAC,+DAA+D,EAAE;YAC3EoC,QAAQ,EAAE;UACZ,CAAC,CAAC;QACJ;MACF;IACF,CAAC;IAEDe,IAAI,CAAC,CAAC;EACR,CAAC;EAED,MAAMK,WAAW,GAAG,MAAAA,CAAOtD,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,EAAE,EAAEyB,MAAM,GAAG,IAAI,EAAE6B,MAAM,GAAG,IAAI,KAAK;IAChF,IAAI;MACFvC,QAAQ,CAAC;QAAER,IAAI,EAAE,aAAa;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC;MAChDO,QAAQ,CAAC;QAAER,IAAI,EAAE;MAAc,CAAC,CAAC;MAEjC,MAAMgD,MAAM,GAAG,IAAIC,eAAe,CAAC;QACjCzD,IAAI,EAAEA,IAAI,CAAC0D,QAAQ,CAAC,CAAC;QACrBzD,KAAK,EAAEA,KAAK,CAACyD,QAAQ,CAAC;MACxB,CAAC,CAAC;MAEF,IAAIhC,MAAM,EAAE8B,MAAM,CAACG,MAAM,CAAC,QAAQ,EAAEjC,MAAM,CAAC;MAC3C,IAAI6B,MAAM,EAAEC,MAAM,CAACG,MAAM,CAAC,QAAQ,EAAEJ,MAAM,CAAC;MAE3C,MAAMhC,QAAQ,GAAG,MAAMN,GAAG,CAACiC,GAAG,CAAC,KAAKM,MAAM,CAACE,QAAQ,CAAC,CAAC,EAAE,CAAC;MACxD1C,QAAQ,CAAC;QAAER,IAAI,EAAE,YAAY;QAAEC,OAAO,EAAEc,QAAQ,CAACgB;MAAK,CAAC,CAAC;IAC1D,CAAC,CAAC,OAAOzC,KAAK,EAAE;MAAA,IAAA8D,gBAAA,EAAAC,qBAAA;MACd,MAAMjB,YAAY,GAAG,EAAAgB,gBAAA,GAAA9D,KAAK,CAACyB,QAAQ,cAAAqC,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBrB,IAAI,cAAAsB,qBAAA,uBAApBA,qBAAA,CAAsB/D,KAAK,KAAIA,KAAK,CAAC+C,OAAO;MACjE7B,QAAQ,CAAC;QAAER,IAAI,EAAE,WAAW;QAAEC,OAAO,EAAEmC;MAAa,CAAC,CAAC;MACtDtD,KAAK,CAACQ,KAAK,CAAC,0BAA0B8C,YAAY,EAAE,CAAC;IACvD;EACF,CAAC;EAED,MAAMkB,gBAAgB,GAAG,MAAAA,CAAOlD,OAAO,EAAEmD,KAAK,KAAK;IACjD,IAAI;MACF,MAAMxC,QAAQ,GAAG,MAAMN,GAAG,CAAC+C,KAAK,CAAC,IAAIpD,OAAO,QAAQ,EAAE;QAAEmD;MAAM,CAAC,CAAC;MAChE/C,QAAQ,CAAC;QAAER,IAAI,EAAE,cAAc;QAAEC,OAAO,EAAEc,QAAQ,CAACgB,IAAI,CAAC5B;MAAM,CAAC,CAAC;MAChErB,KAAK,CAACkD,OAAO,CAAC,6BAA6B,CAAC;IAC9C,CAAC,CAAC,OAAO1C,KAAK,EAAE;MAAA,IAAAmE,gBAAA,EAAAC,qBAAA;MACd,MAAMtB,YAAY,GAAG,EAAAqB,gBAAA,GAAAnE,KAAK,CAACyB,QAAQ,cAAA0C,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgB1B,IAAI,cAAA2B,qBAAA,uBAApBA,qBAAA,CAAsBpE,KAAK,KAAIA,KAAK,CAAC+C,OAAO;MACjEvD,KAAK,CAACQ,KAAK,CAAC,2BAA2B8C,YAAY,EAAE,CAAC;MACtD,MAAM9C,KAAK;IACb;EACF,CAAC;EAED,MAAMqE,eAAe,GAAG,MAAOvD,OAAO,IAAK;IACzC,IAAI;MACFI,QAAQ,CAAC;QAAER,IAAI,EAAE,aAAa;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC;MAChDO,QAAQ,CAAC;QAAER,IAAI,EAAE;MAAc,CAAC,CAAC;MAEjC,MAAMe,QAAQ,GAAG,MAAMN,GAAG,CAACoB,IAAI,CAAC,IAAIzB,OAAO,aAAa,CAAC;MACzD,MAAM0B,QAAQ,GAAGf,QAAQ,CAACgB,IAAI,CAAC5B,KAAK;MAEpCK,QAAQ,CAAC;QAAER,IAAI,EAAE,WAAW;QAAEC,OAAO,EAAE6B;MAAS,CAAC,CAAC;MAElDhD,KAAK,CAACkD,OAAO,CAAC,uBAAuB,EAAE;QACrCN,QAAQ,EAAE;MACZ,CAAC,CAAC;MAEFO,eAAe,CAACH,QAAQ,CAAC1B,OAAO,CAAC;MAEjC,OAAO0B,QAAQ;IACjB,CAAC,CAAC,OAAOxC,KAAK,EAAE;MAAA,IAAAsE,gBAAA,EAAAC,qBAAA;MACd,MAAMzB,YAAY,GAAG,EAAAwB,gBAAA,GAAAtE,KAAK,CAACyB,QAAQ,cAAA6C,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgB7B,IAAI,cAAA8B,qBAAA,uBAApBA,qBAAA,CAAsBvE,KAAK,KAAIA,KAAK,CAAC+C,OAAO;MACjE7B,QAAQ,CAAC;QAAER,IAAI,EAAE,WAAW;QAAEC,OAAO,EAAEmC;MAAa,CAAC,CAAC;MACtDtD,KAAK,CAACQ,KAAK,CAAC,+BAA+B8C,YAAY,EAAE,CAAC;MAC1D,MAAM9C,KAAK;IACb;EACF,CAAC;EAED,MAAMwE,WAAW,GAAG,MAAO1D,OAAO,IAAK;IACrC,IAAI;MACF,MAAMK,GAAG,CAACsD,MAAM,CAAC,IAAI3D,OAAO,EAAE,CAAC;MAC/BI,QAAQ,CAAC;QACPR,IAAI,EAAE,YAAY;QAClBC,OAAO,EAAE;UACPd,MAAM,EAAEU,KAAK,CAACV,MAAM,CAAC6E,MAAM,CAAC7D,KAAK,IAAIA,KAAK,CAACC,OAAO,KAAKA,OAAO,CAAC;UAC/Db,UAAU,EAAEM,KAAK,CAACN;QACpB;MACF,CAAC,CAAC;MACFT,KAAK,CAACkD,OAAO,CAAC,6BAA6B,CAAC;IAC9C,CAAC,CAAC,OAAO1C,KAAK,EAAE;MAAA,IAAA2E,gBAAA,EAAAC,qBAAA;MACd,MAAM9B,YAAY,GAAG,EAAA6B,gBAAA,GAAA3E,KAAK,CAACyB,QAAQ,cAAAkD,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBlC,IAAI,cAAAmC,qBAAA,uBAApBA,qBAAA,CAAsB5E,KAAK,KAAIA,KAAK,CAAC+C,OAAO;MACjEvD,KAAK,CAACQ,KAAK,CAAC,2BAA2B8C,YAAY,EAAE,CAAC;MACtD,MAAM9C,KAAK;IACb;EACF,CAAC;EAED,MAAM6E,UAAU,GAAGA,CAAA,KAAM;IACvB3D,QAAQ,CAAC;MAAER,IAAI,EAAE;IAAc,CAAC,CAAC;EACnC,CAAC;EAEDpB,SAAS,CAAC,MAAM;IACdkE,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMsB,KAAK,GAAG;IACZ,GAAGvE,KAAK;IACR2B,aAAa;IACbsB,WAAW;IACXQ,gBAAgB;IAChBK,eAAe;IACfG,WAAW;IACXK;EACF,CAAC;EAED,oBACEnF,OAAA,CAACC,YAAY,CAACoF,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAA9D,QAAA,EACjCA;EAAQ;IAAAgE,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACY,CAAC;AAE5B,CAAC;AAAClE,EAAA,CA/MWF,aAAa;AAAAqE,EAAA,GAAbrE,aAAa;AAiN1B,OAAO,MAAMsE,QAAQ,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAC5B,MAAMC,OAAO,GAAGnG,UAAU,CAACO,YAAY,CAAC;EACxC,IAAI,CAAC4F,OAAO,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,8CAA8C,CAAC;EACjE;EACA,OAAOD,OAAO;AAChB,CAAC;AAACD,GAAA,CANWD,QAAQ;AAAA,IAAAD,EAAA;AAAAK,YAAA,CAAAL,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}