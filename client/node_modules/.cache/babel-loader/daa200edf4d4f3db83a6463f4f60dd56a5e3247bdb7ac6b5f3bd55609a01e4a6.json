{"ast":null,"code":"var _jsxFileName = \"/Users/kshitijvarma/Desktop/ai-doc-editor/AI-VideoGen/client/src/context/VideoContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoContext = /*#__PURE__*/createContext();\nconst initialState = {\n  videos: [],\n  currentVideo: null,\n  loading: false,\n  error: null,\n  pagination: {\n    page: 1,\n    limit: 10,\n    total: 0,\n    pages: 0\n  }\n};\nconst videoReducer = (state, action) => {\n  var _state$currentVideo;\n  switch (action.type) {\n    case 'SET_LOADING':\n      return {\n        ...state,\n        loading: action.payload\n      };\n    case 'SET_ERROR':\n      return {\n        ...state,\n        error: action.payload,\n        loading: false\n      };\n    case 'SET_VIDEOS':\n      return {\n        ...state,\n        videos: action.payload.videos,\n        pagination: action.payload.pagination,\n        loading: false\n      };\n    case 'ADD_VIDEO':\n      return {\n        ...state,\n        videos: [action.payload, ...state.videos],\n        currentVideo: action.payload,\n        loading: false\n      };\n    case 'UPDATE_VIDEO':\n      return {\n        ...state,\n        videos: state.videos.map(video => video.videoId === action.payload.videoId ? action.payload : video),\n        currentVideo: ((_state$currentVideo = state.currentVideo) === null || _state$currentVideo === void 0 ? void 0 : _state$currentVideo.videoId) === action.payload.videoId ? action.payload : state.currentVideo\n      };\n    case 'SET_CURRENT_VIDEO':\n      return {\n        ...state,\n        currentVideo: action.payload\n      };\n    case 'CLEAR_ERROR':\n      return {\n        ...state,\n        error: null\n      };\n    default:\n      return state;\n  }\n};\nexport const VideoProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(videoReducer, initialState);\n  const mapStatusToUi = status => {\n    if (!status) return 'generating';\n    const s = String(status).toUpperCase();\n    if (s === 'SUCCEEDED' || s === 'COMPLETED' || s === 'COMPLETED_SUCCESS') return 'completed';\n    if (s === 'FAILED' || s === 'CANCELLED' || s === 'CANCELED') return 'failed';\n    return 'generating';\n  };\n  const basePath = process.env.NEXT_PUBLIC_API_BASE_PATH || process.env.REACT_APP_API_BASE_PATH || '';\n  const api = axios.create({\n    baseURL: `${basePath}/api/videos`,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    withCredentials: true\n  });\n\n  // Redirect unauthenticated users to Weam login\n  api.interceptors.response.use(response => response, error => {\n    var _error$response;\n    const status = error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status;\n    if (status === 401) {\n      window.location.href = 'https://app.weam.ai/login';\n      return; // stop further handling\n    }\n    return Promise.reject(error);\n  });\n  const generateVideo = async (prompt, duration = 5, aspectRatio = '16:9', model = 'gen4_turbo') => {\n    try {\n      dispatch({\n        type: 'SET_LOADING',\n        payload: true\n      });\n      dispatch({\n        type: 'CLEAR_ERROR'\n      });\n      const response = await api.post('/generate', {\n        prompt,\n        duration,\n        aspectRatio,\n        model\n      });\n      const newVideoRaw = response.data.video;\n      const newVideo = {\n        ...newVideoRaw,\n        status: mapStatusToUi(newVideoRaw.status)\n      };\n      dispatch({\n        type: 'ADD_VIDEO',\n        payload: newVideo\n      });\n\n      // Show success toast\n      toast.success('Video generation started! This may take a few minutes.', {\n        duration: 5000\n      });\n\n      // Start polling for status updates\n      pollVideoStatus(newVideo.videoId);\n      return newVideo;\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      const errorMessage = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message;\n      dispatch({\n        type: 'SET_ERROR',\n        payload: errorMessage\n      });\n\n      // Show error toast\n      toast.error(`Failed to generate video: ${errorMessage}`);\n      throw error;\n    }\n  };\n  const pollVideoStatus = async (videoId, maxAttempts = 60) => {\n    let attempts = 0;\n    const pollInterval = 3000; // 3 seconds\n\n    const poll = async () => {\n      try {\n        const response = await api.get(`/${videoId}/status`);\n        const videoStatus = {\n          ...response.data,\n          status: mapStatusToUi(response.data.status)\n        };\n        dispatch({\n          type: 'UPDATE_VIDEO',\n          payload: videoStatus\n        });\n        if (videoStatus.status === 'completed') {\n          toast.success('ðŸŽ‰ Your video is ready!', {\n            duration: 6000\n          });\n          return;\n        }\n        if (videoStatus.status === 'failed') {\n          toast.error(`Video generation failed: ${videoStatus.errorMessage || 'Unknown error'}`, {\n            duration: 8000\n          });\n          return;\n        }\n        attempts++;\n        if (attempts < maxAttempts) {\n          setTimeout(poll, pollInterval);\n        } else {\n          toast.error('Video generation timed out. Please try again.', {\n            duration: 8000\n          });\n        }\n      } catch (error) {\n        console.error('Error polling video status:', error);\n        attempts++;\n        if (attempts < maxAttempts) {\n          setTimeout(poll, pollInterval);\n        } else {\n          toast.error('Lost connection to video generation. Please refresh the page.', {\n            duration: 8000\n          });\n        }\n      }\n    };\n    poll();\n  };\n  const fetchVideos = async (page = 1, limit = 10, status = null, search = null) => {\n    try {\n      dispatch({\n        type: 'SET_LOADING',\n        payload: true\n      });\n      dispatch({\n        type: 'CLEAR_ERROR'\n      });\n      const params = new URLSearchParams({\n        page: page.toString(),\n        limit: limit.toString()\n      });\n      if (status) params.append('status', status);\n      if (search) params.append('search', search);\n      const response = await api.get(`/?${params.toString()}`);\n      const videos = (response.data.videos || []).map(v => ({\n        ...v,\n        status: mapStatusToUi(v.status)\n      }));\n      dispatch({\n        type: 'SET_VIDEOS',\n        payload: {\n          videos,\n          pagination: response.data.pagination\n        }\n      });\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      const errorMessage = ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || error.message;\n      dispatch({\n        type: 'SET_ERROR',\n        payload: errorMessage\n      });\n      toast.error(`Failed to load videos: ${errorMessage}`);\n    }\n  };\n  const updateVideoTitle = async (videoId, title) => {\n    try {\n      const response = await api.patch(`/${videoId}/title`, {\n        title\n      });\n      dispatch({\n        type: 'UPDATE_VIDEO',\n        payload: response.data.video\n      });\n      toast.success('Title updated successfully!');\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      const errorMessage = ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || error.message;\n      toast.error(`Failed to update title: ${errorMessage}`);\n      throw error;\n    }\n  };\n  const regenerateVideo = async videoId => {\n    try {\n      dispatch({\n        type: 'SET_LOADING',\n        payload: true\n      });\n      dispatch({\n        type: 'CLEAR_ERROR'\n      });\n      const response = await api.post(`/${videoId}/regenerate`);\n      const newVideo = response.data.video;\n      dispatch({\n        type: 'ADD_VIDEO',\n        payload: newVideo\n      });\n      toast.success('Regenerating video...', {\n        duration: 3000\n      });\n      pollVideoStatus(newVideo.videoId);\n      return newVideo;\n    } catch (error) {\n      var _error$response5, _error$response5$data;\n      const errorMessage = ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.error) || error.message;\n      dispatch({\n        type: 'SET_ERROR',\n        payload: errorMessage\n      });\n      toast.error(`Failed to regenerate video: ${errorMessage}`);\n      throw error;\n    }\n  };\n  const deleteVideo = async videoId => {\n    try {\n      await api.delete(`/${videoId}`);\n      dispatch({\n        type: 'SET_VIDEOS',\n        payload: {\n          videos: state.videos.filter(video => video.videoId !== videoId),\n          pagination: state.pagination\n        }\n      });\n      toast.success('Video deleted successfully!');\n    } catch (error) {\n      var _error$response6, _error$response6$data;\n      const errorMessage = ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.error) || error.message;\n      toast.error(`Failed to delete video: ${errorMessage}`);\n      throw error;\n    }\n  };\n  const clearError = () => {\n    dispatch({\n      type: 'CLEAR_ERROR'\n    });\n  };\n  useEffect(() => {\n    fetchVideos();\n  }, []);\n  const value = {\n    ...state,\n    generateVideo,\n    fetchVideos,\n    updateVideoTitle,\n    regenerateVideo,\n    deleteVideo,\n    clearError\n  };\n  return /*#__PURE__*/_jsxDEV(VideoContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 273,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoProvider, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = VideoProvider;\nexport const useVideo = () => {\n  _s2();\n  const context = useContext(VideoContext);\n  if (!context) {\n    throw new Error('useVideo must be used within a VideoProvider');\n  }\n  return context;\n};\n_s2(useVideo, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"VideoProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","axios","toast","jsxDEV","_jsxDEV","VideoContext","initialState","videos","currentVideo","loading","error","pagination","page","limit","total","pages","videoReducer","state","action","_state$currentVideo","type","payload","map","video","videoId","VideoProvider","children","_s","dispatch","mapStatusToUi","status","s","String","toUpperCase","basePath","process","env","NEXT_PUBLIC_API_BASE_PATH","REACT_APP_API_BASE_PATH","api","create","baseURL","headers","withCredentials","interceptors","response","use","_error$response","window","location","href","Promise","reject","generateVideo","prompt","duration","aspectRatio","model","post","newVideoRaw","data","newVideo","success","pollVideoStatus","_error$response2","_error$response2$data","errorMessage","message","maxAttempts","attempts","pollInterval","poll","get","videoStatus","setTimeout","console","fetchVideos","search","params","URLSearchParams","toString","append","v","_error$response3","_error$response3$data","updateVideoTitle","title","patch","_error$response4","_error$response4$data","regenerateVideo","_error$response5","_error$response5$data","deleteVideo","delete","filter","_error$response6","_error$response6$data","clearError","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useVideo","_s2","context","Error","$RefreshReg$"],"sources":["/Users/kshitijvarma/Desktop/ai-doc-editor/AI-VideoGen/client/src/context/VideoContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\n\nconst VideoContext = createContext();\n\nconst initialState = {\n  videos: [],\n  currentVideo: null,\n  loading: false,\n  error: null,\n  pagination: {\n    page: 1,\n    limit: 10,\n    total: 0,\n    pages: 0\n  }\n};\n\nconst videoReducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_LOADING':\n      return { ...state, loading: action.payload };\n    case 'SET_ERROR':\n      return { ...state, error: action.payload, loading: false };\n    case 'SET_VIDEOS':\n      return { \n        ...state, \n        videos: action.payload.videos, \n        pagination: action.payload.pagination,\n        loading: false \n      };\n    case 'ADD_VIDEO':\n      return { \n        ...state, \n        videos: [action.payload, ...state.videos],\n        currentVideo: action.payload,\n        loading: false \n      };\n    case 'UPDATE_VIDEO':\n      return {\n        ...state,\n        videos: state.videos.map(video => \n          video.videoId === action.payload.videoId ? action.payload : video\n        ),\n        currentVideo: state.currentVideo?.videoId === action.payload.videoId \n          ? action.payload \n          : state.currentVideo\n      };\n    case 'SET_CURRENT_VIDEO':\n      return { ...state, currentVideo: action.payload };\n    case 'CLEAR_ERROR':\n      return { ...state, error: null };\n    default:\n      return state;\n  }\n};\n\nexport const VideoProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(videoReducer, initialState);\n\n  const mapStatusToUi = (status) => {\n    if (!status) return 'generating';\n    const s = String(status).toUpperCase();\n    if (s === 'SUCCEEDED' || s === 'COMPLETED' || s === 'COMPLETED_SUCCESS') return 'completed';\n    if (s === 'FAILED' || s === 'CANCELLED' || s === 'CANCELED') return 'failed';\n    return 'generating';\n  };\n\n  const basePath = process.env.NEXT_PUBLIC_API_BASE_PATH || process.env.REACT_APP_API_BASE_PATH || '';\n  const api = axios.create({\n    baseURL: `${basePath}/api/videos`,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    withCredentials: true\n  });\n\n  // Redirect unauthenticated users to Weam login\n  api.interceptors.response.use(\n    (response) => response,\n    (error) => {\n      const status = error?.response?.status;\n      if (status === 401) {\n        window.location.href = 'https://app.weam.ai/login';\n        return; // stop further handling\n      }\n      return Promise.reject(error);\n    }\n  );\n\n  const generateVideo = async (prompt, duration = 5, aspectRatio = '16:9', model = 'gen4_turbo') => {\n    try {\n      dispatch({ type: 'SET_LOADING', payload: true });\n      dispatch({ type: 'CLEAR_ERROR' });\n\n      const response = await api.post('/generate', {\n        prompt,\n        duration,\n        aspectRatio,\n        model\n      });\n\n      const newVideoRaw = response.data.video;\n      const newVideo = { ...newVideoRaw, status: mapStatusToUi(newVideoRaw.status) };\n      dispatch({ type: 'ADD_VIDEO', payload: newVideo });\n\n      // Show success toast\n      toast.success('Video generation started! This may take a few minutes.', {\n        duration: 5000,\n      });\n\n      // Start polling for status updates\n      pollVideoStatus(newVideo.videoId);\n\n      return newVideo;\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message;\n      dispatch({ type: 'SET_ERROR', payload: errorMessage });\n      \n      // Show error toast\n      toast.error(`Failed to generate video: ${errorMessage}`);\n      throw error;\n    }\n  };\n\n  const pollVideoStatus = async (videoId, maxAttempts = 60) => {\n    let attempts = 0;\n    const pollInterval = 3000; // 3 seconds\n\n    const poll = async () => {\n      try {\n        const response = await api.get(`/${videoId}/status`);\n        const videoStatus = { ...response.data, status: mapStatusToUi(response.data.status) };\n\n        dispatch({ type: 'UPDATE_VIDEO', payload: videoStatus });\n\n        if (videoStatus.status === 'completed') {\n          toast.success('ðŸŽ‰ Your video is ready!', {\n            duration: 6000,\n          });\n          return;\n        }\n\n        if (videoStatus.status === 'failed') {\n          toast.error(`Video generation failed: ${videoStatus.errorMessage || 'Unknown error'}`, {\n            duration: 8000,\n          });\n          return;\n        }\n\n        attempts++;\n        if (attempts < maxAttempts) {\n          setTimeout(poll, pollInterval);\n        } else {\n          toast.error('Video generation timed out. Please try again.', {\n            duration: 8000,\n          });\n        }\n      } catch (error) {\n        console.error('Error polling video status:', error);\n        attempts++;\n        if (attempts < maxAttempts) {\n          setTimeout(poll, pollInterval);\n        } else {\n          toast.error('Lost connection to video generation. Please refresh the page.', {\n            duration: 8000,\n          });\n        }\n      }\n    };\n\n    poll();\n  };\n\n  const fetchVideos = async (page = 1, limit = 10, status = null, search = null) => {\n    try {\n      dispatch({ type: 'SET_LOADING', payload: true });\n      dispatch({ type: 'CLEAR_ERROR' });\n\n      const params = new URLSearchParams({\n        page: page.toString(),\n        limit: limit.toString()\n      });\n\n      if (status) params.append('status', status);\n      if (search) params.append('search', search);\n\n      const response = await api.get(`/?${params.toString()}`);\n      const videos = (response.data.videos || []).map(v => ({ ...v, status: mapStatusToUi(v.status) }));\n      dispatch({ type: 'SET_VIDEOS', payload: { videos, pagination: response.data.pagination } });\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message;\n      dispatch({ type: 'SET_ERROR', payload: errorMessage });\n      toast.error(`Failed to load videos: ${errorMessage}`);\n    }\n  };\n\n  const updateVideoTitle = async (videoId, title) => {\n    try {\n      const response = await api.patch(`/${videoId}/title`, { title });\n      dispatch({ type: 'UPDATE_VIDEO', payload: response.data.video });\n      toast.success('Title updated successfully!');\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message;\n      toast.error(`Failed to update title: ${errorMessage}`);\n      throw error;\n    }\n  };\n\n  const regenerateVideo = async (videoId) => {\n    try {\n      dispatch({ type: 'SET_LOADING', payload: true });\n      dispatch({ type: 'CLEAR_ERROR' });\n\n      const response = await api.post(`/${videoId}/regenerate`);\n      const newVideo = response.data.video;\n      \n      dispatch({ type: 'ADD_VIDEO', payload: newVideo });\n      \n      toast.success('Regenerating video...', {\n        duration: 3000,\n      });\n      \n      pollVideoStatus(newVideo.videoId);\n\n      return newVideo;\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message;\n      dispatch({ type: 'SET_ERROR', payload: errorMessage });\n      toast.error(`Failed to regenerate video: ${errorMessage}`);\n      throw error;\n    }\n  };\n\n  const deleteVideo = async (videoId) => {\n    try {\n      await api.delete(`/${videoId}`);\n      dispatch({ \n        type: 'SET_VIDEOS', \n        payload: {\n          videos: state.videos.filter(video => video.videoId !== videoId),\n          pagination: state.pagination\n        }\n      });\n      toast.success('Video deleted successfully!');\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message;\n      toast.error(`Failed to delete video: ${errorMessage}`);\n      throw error;\n    }\n  };\n\n  const clearError = () => {\n    dispatch({ type: 'CLEAR_ERROR' });\n  };\n\n  useEffect(() => {\n    fetchVideos();\n  }, []);\n\n  const value = {\n    ...state,\n    generateVideo,\n    fetchVideos,\n    updateVideoTitle,\n    regenerateVideo,\n    deleteVideo,\n    clearError\n  };\n\n  return (\n    <VideoContext.Provider value={value}>\n      {children}\n    </VideoContext.Provider>\n  );\n};\n\nexport const useVideo = () => {\n  const context = useContext(VideoContext);\n  if (!context) {\n    throw new Error('useVideo must be used within a VideoProvider');\n  }\n  return context;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}